<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D model load</title>
    <link rel="stylesheet" href="./style.css">
    <script type="importmap">
        {
            "imports" : {
                "three" : "./build/three.module.js",
                "three/examples/loaders/GLTFLoader" : "./jsm/loaders/GLTFLoader.js",
                "three/examples/controls/OrbitControls" : "./jsm/controls/OrbitControls.js",
                "three/examples/jsm/libs/lil-gui.module.min" : "/jsm/libs/lil-gui.module.min.js",
                "three/examples/jsm/libs/meshopt_decoder.module" : "/jsm/libs/meshopt_decoder.module.js",
                "three/examples/loaders/OBJLoader" : "./jsm/loaders/OBJLoader.js",
                "three/examples/loaders/MTLLoader" : "./jsm/loaders/MTLLoader.js",
                "three/examples/loaders/FBXLoader" : "./jsm/loaders/FBXLoader.js",
                "three/examples/loaders/RGBELoader" : "./jsm/loaders/RGBELoader.js",
                "three/examples/loaders/STLLoader" : "./jsm/loaders/STLLoader.js"
            }
        }
    </script>
</head>
<body>
<!-- Navbar -->
<nav class="navbar" id="navbar">
    <div class="navbar-container">
        <div class="hamburger" id="hamburger">
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
        </div>
        <ul class="nav-links" id="navLinks">
            <li><a href="#">P2104352</a></li>
            <li><a href="#">About</a></li>
            <li><a href="#">Control</a></li>
            <li><a href="#">Legals</a></li>
            <li class="qr-code-container">
                <img src="../qr code/qr-code.png" alt="QR Code" class="qr-code-icon">
                <div class="qr-code" id="qrCode">
                    <img src="../qr code/fyp qr code .png" alt="QR Code" class="qr-code-image">
                </div>
            </li>
        </ul>
    </div>
</nav>
    <!--  -->
<!-- 3D Model Section -->
<!-- <div class="model-container">
     -->
     <!-- <canvas class="web-gl" id="container3D"></canvas> -->
    <!-- <main>
    <div id="container3D"></div>
    </main> -->
    <div class = "progress-bar-container">
        <!-- <canvas id="container3D"></canvas> -->
        <!-- <main> -->
            <div id="container3D"></div>
            <!-- <canvas id="container3D"></canvas> -->
            <!-- </main> -->
 <!-- 新增的 -->
       
        <label for="progress-bar" id="loading-label">
            <p>Import your 3D file here</p>
            <button id="myButton" class="btn-animate__underline-from-center">Choose a file</button> 
            <input type="file" id="model-file-input" accept=".glb, .bin, .obj, .fbx, .stl" style="display: none;"> 
            <!-- 因為gltf的問題解決不了, 所以不accept input gltf檔 -->
            <!-- <input type="file" id="model-file-input" accept=".gltf, .glb, .bin, .jpg, .png, .obj, .fbx" style="display: none;"> -->
        </label>
        <!-- <label for="progress-bar">Loading...</label> -->
        <progress id="progress-bar" value="0" max="100" style="display: none;"></progress>
    </div>
<!-- </div> 新增的div -->



    <!-- Modal for file upload -->
    <div id="uploadModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <h2>Import your 3D file here</h2>
            <div id="dropArea">
                <p>Drag and drop a 3D model file here</p>
                <button id="uploadButton" class="btn-animate__underline-from-center">Choose a file</button>
                <input type="file" id="model-file-input-modal" accept=".glb, .bin, .obj, .fbx, .stl" style="display: none;">
                <!-- <input type="file" id="model-file-input-modal" accept=".gltf, .glb, .bin, .obj, .fbx, .stl" style="display: none;"> -->
            
            </div>
            <!-- <p>supports format: glb, gltf, bin, obj, fbx, stl</p> -->
            <p>supports format: .glb, .bin, .obj (.mtl), .fbx, .stl</p>
        </div>
    </div>
    
    <canvas class="web-gl"></canvas>
    

    <script type="module" src="./index.js"></script>
    <script type="module" src="./client.js"></script>

    <script>// JavaScript to toggle hamburger menu
        document.getElementById("hamburger").addEventListener("click", function() {
            this.classList.toggle("active");
            const navLinks = document.getElementById("navLinks");
            navLinks.classList.toggle("show");
        });
    </script>

</body>
</html>